<f:layout name="Backend" />

{namespace c = CIC\Cicbase\ViewHelpers}

<f:section name="main">

	<f:if condition="{noKeys}">
		<f:then>
			<h4>There are no templates available at this time.</h4>
		</f:then>
		<f:else>
			<f:form action="create" name="emailTemplate" object="{emailTemplate}">

				<div class="field">
					<label>Available Templates</label>
					<c:form.selectWithBody property="templateKey" >
						<f:for each="{templateKeys}" as="keys" key="ext">
							<optgroup label="{ext}">
								<f:for each="{keys}" as="key">
									<option value="{ext}.{key}">{key}</option>
								</f:for>
							</optgroup>
						</f:for>
					</c:form.selectWithBody>
				</div>

				<div class="field">
					<label><f:form.checkbox property="isDraft" value="yes" /> Is draft version?</label>
				</div>

				<div class=field">
					<label>Email Body</label>
					<f:form.textarea property="body" />
				</div>

				<div class="field">
					<f:form.submit value="Create Email Template" />
				</div>
			</f:form>
		</f:else>
	</f:if>

</f:section>

<f:section name="menu-primary">

</f:section>